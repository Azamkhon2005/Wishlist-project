| RiskID | Описание | Связь (F/NFR) | L | I | Risk | Стратегия | Владелец | Срок | Критерий закрытия |
|---|---|---|---|---|---|---|---|---|---|
| R1 | Брутфорс регистрации (массовые POST /api/users) | F1,F2,F4; NFR-02 | 3 | 3 | 9 | Снизить | @Azamkhon2005 | 2025-10-25 | Включён rate limit на /api/users (≤5/min/IP), e2e тест на 429 |
| R2 | Подбор/злоупотребление API-ключом | F5; NFR-02,NFR-04,NFR-05 | 3 | 4 | 12 | Снизить | @Azamkhon2005 | 2025-10-28 | RL per-IP/per-key, TLS в prod, лог аутентификации без ключей |
| R3 | Нет/некорректный TLS на внешнем контуре | F1; NFR-04 | 2 | 5 | 10 | Избежать | @Azamkhon2005 | 2025-11-05 | HTTPS с HSTS, SSL Labs ≥ A- |
| R4 | Слабое хэширование паролей (не Argon2id/параметры) | F3; NFR-01 | 2 | 5 | 10 | Снизить | @Azamkhon2005 | 2025-10-20 | Unit-тест префикса $argon2id… и параметров, code review security.py |
| R5 | IDOR: доступ/изменение чужих желаний | F6; NFR-06 | 2 | 5 | 10 | Снизить | @Azamkhon2005 | 2025-10-22 | Интеграционные e2e тесты из NFR_BDD (403), 100% путей проверены |
| R6 | Раскрытие внутренних деталей через ошибки | F8; NFR-07 | 2 | 4 | 8 | Снизить | @Azamkhon2005 | 2025-10-18 | tests/test_errors.py зелёный, e2e: без stack trace/внутренних путей |
| R7 | Утечка секретов (API-ключи/пароли) в логах | F7,F5; NFR-05 | 3 | 4 | 12 | Снизить | @Azamkhon2005 | 2025-11-01 | JSON-логирование без PII; grep по логам: ключей/паролей нет |
| R8 | Уязвимости зависимостей (High/Critical) | Build; NFR-03 | 3 | 5 | 15 | Снизить | @Azamkhon2005 | 2025-10-30 | SCA в CI (pip-audit/Trivy) зелёный, 0 High/Critical |
| R9 | Отсутствие шифрования Edge→App | F2; NFR-04 | 2 | 4 | 8 | Снизить | @Azamkhon2005 | 2025-11-07 | Внутр. трафик шифруется (mTLS/частная сеть), проверка конфигурации |
| R10 | Деградация производительности под нагрузкой | F1,F6; NFR-08 | 3 | 3 | 9 | Снизить | @Azamkhon2005 | 2025-12-01 | k6: p99 ≤ 400мс при 50 RPS на /api/wishes |
| R11 | DoS всех эндпоинтов высокими RPS | F1,F2; NFR-02 | 3 | 5 | 15 | Снизить | @Azamkhon2005 | 2025-10-28 | Rate limit на Edge и/или middleware для всех /api/* |
| R12 | Недостаточный аудит аутентификации (repudiation) | F4,F5; NFR-05 | 3 | 3 | 9 | Снизить | @Azamkhon2005 | 2025-11-10 | События аутентификации в журналах, алерты по аномалиям |
